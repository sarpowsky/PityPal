import{c as p,r as o,j as e,u as y,w as N,i as E}from"./index-BnMnPxxP.js";import{C as z}from"./calendar-DJ03-1qG.js";import{S as j}from"./star-CVM5tdCY.js";import{S as P,X as k}from"./x-xBkWB0i8.js";/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],I=p("Award",R);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_=p("ChevronLeft",D);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C=p("ChevronRight",M);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$=p("CircleAlert",T);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U=p("Circle",A);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],S=p("Clock",W);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],H=p("Copy",G);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],F=p("Crown",B);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],V=p("ExternalLink",q);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],O=p("Gem",K);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],L=p("Info",Y);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Z=p("Loader",X);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Q=p("Target",J),v={CHARACTER_EVENT:"character-event",WEAPON_EVENT:"weapon-event",STANDARD:"standard"},ee=[{id:"kazuha-3.0",type:v.CHARACTER_EVENT,name:"Leaves in the Wind",character:"Kaedehara Kazuha",weapon:"Freedom-Sworn",startDate:"2025-01-16",endDate:"2025-02-06",image:"/banners/kazuha-3.0.jpg",fourStars:["Rosaria","Dori","Razor"],description:"The wandering samurai returns with his signature sword!"},{id:"standard",type:v.STANDARD,name:"Wanderlust Invocation",isPermanent:!0,image:"/banners/standard.jpg",description:"Standard wish banner with a chance to win any 5★ character from the standard pool."}],te=()=>{const t=new Date;return ee.filter(a=>{if(a.isPermanent)return!0;const n=new Date(a.startDate),s=new Date(a.endDate);return t>=n&&t<=s})},se=t=>{if(t.isPermanent)return null;const a=new Date,s=new Date(t.endDate)-a;return{days:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(s%(1e3*60*60)/(1e3*60))}},re=()=>{var m;const[t,a]=o.useState([]),[n,s]=o.useState(0),[d,i]=o.useState(!0),[x,l]=o.useState(null);o.useEffect(()=>{(async()=>{try{i(!0);const b=te();if(b.length===0)throw new Error("No active banners found");a(b)}catch(b){l(b.message)}finally{i(!1)}})()},[]);const g=()=>s(u=>(u+1)%t.length),r=()=>s(u=>(u-1+t.length)%t.length);if(d)return e.jsx("div",{className:"h-56 rounded-xl bg-black/20 backdrop-blur-sm animate-pulse",children:e.jsx("div",{className:"h-full flex items-center justify-center text-white/40",children:"Loading banners..."})});if(x)return e.jsx("div",{className:"h-56 rounded-xl bg-black/20 backdrop-blur-sm border border-red-500/20",children:e.jsx("div",{className:"h-full flex items-center justify-center text-red-400",children:x})});if(!t.length)return null;const c=t[n],h=c.isPermanent?null:se(c);return e.jsxs("div",{className:"relative h-56 rounded-xl overflow-hidden group",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover",onError:u=>{u.target.src="/banners/placeholder.jpg",u.target.onerror=null}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[!c.isPermanent&&h&&e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/80",children:[e.jsx(z,{size:14}),e.jsxs("span",{children:["Ends ",new Date(c.endDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/80",children:[e.jsx(S,{size:14}),e.jsxs("span",{children:[h.days,"d ",h.hours,"h remaining"]})]})]}),e.jsx("h3",{className:"text-xl font-genshin mb-1",children:c.name}),c.character&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/80",children:[e.jsx("span",{children:"Featured:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{size:14,className:"fill-current text-amber-400"}),e.jsx("span",{children:c.character})]})]}),((m=c.fourStars)==null?void 0:m.length)>0&&e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-white/60",children:[e.jsx("span",{children:"Rate Up:"}),e.jsx("div",{className:"flex items-center gap-1",children:c.fourStars.join(" • ")})]})]}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:`absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-full\r
                     bg-black/30 backdrop-blur-sm opacity-0 group-hover:opacity-100\r
                     transition-opacity`,children:e.jsx(_,{size:20})}),e.jsx("button",{onClick:g,className:`absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full\r
                     bg-black/30 backdrop-blur-sm opacity-0 group-hover:opacity-100\r
                     transition-opacity`,children:e.jsx(C,{size:20})}),e.jsx("div",{className:"absolute bottom-4 right-4 flex gap-1",children:t.map((u,b)=>e.jsx("button",{onClick:()=>s(b),className:`w-2 h-2 rounded-full transition-all
                  ${b===n?"bg-white w-4":"bg-white/40 hover:bg-white/60"}`},b))})]})]})},ae=()=>{const{state:t}=y(),[a,n]=o.useState(!0),[s,d]=o.useState(null),[i,x]=o.useState({current:0,guaranteed:!1,pity_type:null,wishes_to_soft:0,wishes_to_hard:0,thresholds:{soft:74,hard:90}});if(o.useEffect(()=>{const c=async()=>{try{n(!0),await N();const h=await window.pywebview.api.calculate_pity();if(!h.success)throw new Error(h.error||"Failed to calculate pity");x(h.data.character)}catch(h){console.error("Failed to fetch pity stats:",h),d(h.message)}finally{n(!1)}};t.wishes.history.length>0?c():n(!1)},[t.wishes.history]),a)return e.jsx("div",{className:"w-full rounded-xl bg-black/20 backdrop-blur-sm border border-white/10 p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-white/10 rounded w-1/3"}),e.jsx("div",{className:"h-8 bg-white/10 rounded"}),e.jsx("div",{className:"h-4 bg-white/10 rounded w-2/3"})]})});if(s)return e.jsx("div",{className:"w-full rounded-xl bg-black/20 backdrop-blur-sm border border-red-500/20 p-6",children:e.jsxs("div",{className:"text-red-400 text-sm",children:["Error: ",s]})});const l=()=>i.pity_type==="soft"?"from-amber-500 to-yellow-500":i.guaranteed?"from-emerald-500 to-green-500":"from-indigo-500 to-blue-500",g=()=>i.pity_type==="soft"?"Soft pity active!":i.current>=45?"Getting closer...":"Building pity",r=i.current/i.thresholds.hard*100;return e.jsxs("div",{className:"w-full rounded-xl bg-black/20 backdrop-blur-sm border border-white/10",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-900/80 to-gray-800/80 backdrop-blur-sm p-3 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{size:16,className:"text-white/60"}),e.jsx("h3",{className:"font-genshin text-sm",children:"Pity Status"})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs
            ${i.guaranteed?"bg-gradient-to-r from-emerald-500 to-green-500 text-white":"bg-gradient-to-r from-indigo-500 to-blue-500 text-white"}`,children:i.guaranteed?"Guaranteed":"50/50"})]})}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm text-white/60",children:g()}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{size:14,className:"text-amber-400"}),e.jsx("span",{className:"text-lg font-semibold",children:i.current})]})]}),e.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 bg-gradient-to-r ${l()}`,style:{width:`${r}%`}})})]}),e.jsxs("div",{className:"flex justify-between text-xs text-white/40",children:[e.jsx("span",{children:"0"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-400/60",children:"Soft Pity"}),e.jsx("span",{children:i.thresholds.soft})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-400/60",children:"Hard Pity"}),e.jsx("span",{children:i.thresholds.hard})]})]})]})]})},w=10,ne=({wish:t})=>{const a=d=>{switch(d){case 5:return"bg-gradient-to-r from-amber-500 to-yellow-300 border-amber-300";case 4:return"bg-gradient-to-r from-purple-500 to-violet-300 border-purple-300";default:return"bg-gradient-to-r from-blue-500 to-cyan-300 border-blue-300"}},s=new Date(t.time).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`relative rounded-xl bg-black/20 backdrop-blur-sm border border-white/10 \r
                   hover:bg-black/30 transition-all duration-300`,children:e.jsxs("div",{className:"flex items-center gap-3 p-3",children:[e.jsxs("div",{className:`relative w-12 h-12 rounded-lg overflow-hidden border-2 
                      ${a(t.rarity)}`,children:[e.jsx("img",{src:`/items/${t.name.toLowerCase().replace(/\s+/g,"-")}.png`,alt:t.name,className:"w-full h-full object-cover",onError:d=>{d.target.src="/items/placeholder.png"}}),e.jsxs("div",{className:`absolute bottom-0 right-0 px-1.5 py-0.5 \r
                       bg-black/60 backdrop-blur-sm rounded-tl text-xs`,children:[e.jsx(j,{size:10,className:"fill-current"}),e.jsx("span",{children:t.rarity})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-genshin text-sm truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[e.jsx(S,{size:12}),e.jsx("span",{children:s}),e.jsx("span",{children:"•"}),e.jsx("span",{children:t.bannerType})]})]}),e.jsxs("div",{className:"px-2 py-1 rounded-full text-xs bg-white/10",children:["Pity #",t.pity||"?"]})]})})},ie=()=>{const{state:t}=y(),[a,n]=o.useState(1),[s,d]=o.useState("all"),[i,x]=o.useState([]);o.useEffect(()=>{const r=t.wishes.history,c=s==="all"?r:r.filter(h=>h.bannerType===s);x(c)},[t.wishes.history,s]);const l=Math.ceil(i.length/w),g=i.slice((a-1)*w,a*w);return t.wishes.loading?e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,c)=>e.jsx("div",{className:"h-20 bg-white/5 rounded-xl animate-pulse"},c))}):i.length?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2 mb-4",children:["all","character","weapon","standard"].map(r=>e.jsx("button",{onClick:()=>{d(r),n(1)},className:`px-3 py-1 rounded-full text-sm transition-colors
                     ${s===r?"bg-indigo-500 text-white":"bg-white/10 text-white/60 hover:bg-white/20"}`,children:r.charAt(0).toUpperCase()+r.slice(1)},r))}),e.jsx("div",{className:"space-y-2",children:g.map(r=>e.jsx(ne,{wish:r},r.id))}),l>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("button",{onClick:()=>n(r=>Math.max(1,r-1)),disabled:a===1,className:"p-2 rounded-lg bg-white/10 disabled:opacity-50",children:e.jsx(_,{size:16})}),e.jsxs("span",{className:"text-sm text-white/60",children:["Page ",a," of ",l]}),e.jsx("button",{onClick:()=>n(r=>Math.min(l,r+1)),disabled:a===l,className:"p-2 rounded-lg bg-white/10 disabled:opacity-50",children:e.jsx(C,{size:16})})]})]}):e.jsx("div",{className:"text-center py-8 text-white/60",children:e.jsx("p",{children:"No wishes recorded yet"})})},le=()=>{const[t,a]=o.useState(""),[n,s]=o.useState(!1),[d,i]=o.useState(0),[x,l]=o.useState(""),{dispatch:g}=y(),r=o.useRef(null),c=m=>m?!m.includes("public-operation-hk4e")&&!m.includes("webstatic-sea.hoyoverse.com")?"Invalid URL. Please use the in-game wish history URL":m.includes("authkey=")?null:"Invalid URL format. Missing authentication key":"Please enter a URL",h=async()=>{l(""),r.current&&clearTimeout(r.current);const m=c(t);if(m){l(m);return}s(!0),i(0);try{r.current=setTimeout(()=>{l("Import timed out. Please try again."),s(!1)},6e4);const u=await E(g,t,i);if(clearTimeout(r.current),!u.success)throw new Error(u.error||"Import failed");a(""),i(100),setTimeout(()=>{s(!1),i(0)},1e3)}catch(u){l(u.message),s(!1),i(0)}};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:t,onChange:m=>{a(m.target.value),l("")},placeholder:"Paste wish history URL here...",disabled:n,className:`w-full pl-10 pr-4 py-2.5 rounded-full
                     bg-black/20 backdrop-blur-sm
                     border ${x?"border-red-500/50":"border-white/10"} text-sm text-white 
                    placeholder-white/40 focus:outline-none 
                    focus:border-white/20 transition-colors
                    disabled:opacity-50 disabled:cursor-not-allowed`,onKeyPress:m=>m.key==="Enter"&&!n&&h()}),e.jsx(P,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-white/40",size:16}),t&&!n&&e.jsx("button",{onClick:()=>a(""),className:`absolute right-3.5 top-1/2 -translate-y-1/2 \r
                       p-1 rounded-full hover:bg-white/10`,children:e.jsx(k,{size:14,className:"text-white/40"})})]}),e.jsx("button",{onClick:h,disabled:n||!t,className:`px-6 py-2.5 rounded-full bg-gradient-to-r \r
                   from-indigo-500 to-purple-500\r
                   hover:from-indigo-600 hover:to-purple-600 \r
                   transition-all text-sm text-white font-medium \r
                   disabled:opacity-50 disabled:cursor-not-allowed \r
                   flex items-center gap-2 min-w-[100px]\r
                   justify-center`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"animate-spin",size:16}),e.jsxs("span",{children:[d,"%"]})]}):e.jsx("span",{children:"Import"})})]}),n&&e.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r from-indigo-500 to-purple-500 \r
                     transition-all duration-300`,style:{width:`${d}%`}})}),x&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-400 px-4",children:[e.jsx($,{size:16}),e.jsx("span",{children:x})]})]})},oe=({onClose:t})=>{const a=()=>{navigator.clipboard.writeText("https://webstatic-sea.hoyoverse.com/genshin/event/e20190909gacha/")};return e.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] \r
                  flex items-center justify-center p-4 animate-fadeIn`,children:e.jsxs("div",{className:`relative w-full max-w-2xl bg-gradient-to-b from-gray-900/95 to-black/95 \r
                    rounded-2xl border border-white/10 shadow-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-xl font-genshin",children:"How to Import Wishes"}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:e.jsx(k,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:[e.jsx(L,{size:20,className:"text-indigo-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-1",children:"Important Note"}),e.jsx("p",{className:"text-sm text-white/70",children:"Your wish history URL is temporary and expires after a short time. You'll need to obtain a new URL whenever you want to update your wish history."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"1. Open Game and History"}),e.jsx("p",{className:"text-sm text-white/70",children:"Launch Genshin Impact and open the wish history page by clicking History in any banner."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"2. Open Web History"}),e.jsx("p",{className:"text-sm text-white/70",children:"Click on the option that opens the history in your web browser."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"3. Copy URL"}),e.jsx("p",{className:"text-sm text-white/70",children:"Copy the URL from your browser's address bar once the page loads."}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"flex-1 px-4 py-2 rounded-lg bg-white/5 text-sm text-white/40 truncate",children:"https://webstatic-sea.hoyoverse.com/genshin/event/e20190909gacha/"}),e.jsx("button",{onClick:a,className:`p-2 rounded-lg bg-white/5 hover:bg-white/10 \r
                           border border-white/10 transition-colors`,children:e.jsx(H,{size:18})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"4. Import to App"}),e.jsx("p",{className:"text-sm text-white/70",children:"Paste the URL into the import field at the top of the home page and click Import."})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("a",{href:"https://docs.genshinwizard.com/wishing-centre/history-link",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 text-sm text-indigo-400 \r
                       hover:text-indigo-300 transition-colors`,children:[e.jsx(V,{size:16}),e.jsx("span",{children:"Detailed guide in wiki"})]}),e.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 \r
                       border border-white/10 text-sm transition-colors`,children:"Got it"})]})]})]})})},f=({icon:t,label:a,value:n,gradient:s,delay:d})=>e.jsxs("div",{className:`group flex items-center gap-3 px-4 py-3 rounded-xl
                  bg-gradient-to-br ${s} backdrop-blur-sm
                  border border-white/10 transition-all duration-300
                  hover:scale-[1.02] hover:shadow-lg hover:shadow-white/5
                  animate-fadeIn hover:-translate-y-0.5`,style:{animationDelay:`${d}ms`},children:[e.jsx("div",{className:`p-2 rounded-lg bg-white/10 group-hover:bg-white/20 \r
                  transition-colors duration-300`,children:e.jsx(t,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-white/60",children:a}),e.jsx("div",{className:`text-lg font-semibold group-hover:text-white \r
                    transition-colors duration-300`,children:n})]})]}),xe=()=>{const[t,a]=o.useState(!1),{state:n}=y(),[s,d]=o.useState({total_wishes:0,five_stars:0,four_stars:0,primogems_spent:0});return o.useEffect(()=>{(async()=>{try{await N();const x=await window.pywebview.api.calculate_pity(),l=await window.pywebview.api.get_wish_history();l&&l.length>0&&d(g=>({...g,total_wishes:l.length,five_stars:l.filter(r=>r.rarity===5).length,four_stars:l.filter(r=>r.rarity===4).length,primogems_spent:l.length*160}))}catch(x){console.error("Failed to fetch stats:",x)}})()},[n.wishes.history]),e.jsxs("div",{className:"space-y-3 max-w-5xl mx-auto animate-fadeIn",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{onClick:()=>a(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl \r
                   bg-white/5 hover:bg-white/10 border border-white/10 \r
                   text-sm transition-colors`,children:[e.jsx(L,{size:16}),e.jsx("span",{children:"How to Import Wishes"})]})}),e.jsx("div",{className:"max-w-2xl mx-auto mb-4 transform hover:scale-[1.01] transition-transform duration-300",children:e.jsx(le,{})}),e.jsx("div",{className:`transform hover:scale-[1.01] transition-transform duration-300\r
                    hover:shadow-lg hover:shadow-purple-500/10 rounded-xl`,children:e.jsx(re,{})}),e.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 grid grid-cols-1 gap-3",children:[e.jsx(f,{icon:O,label:"Primogems",value:s.primogems_spent.toLocaleString(),gradient:"from-purple-500/20 to-pink-500/20",delay:100}),e.jsx(f,{icon:j,label:"5★ Characters",value:s.five_stars,gradient:"from-amber-500/20 to-orange-500/20",delay:200}),e.jsx(f,{icon:U,label:"4★ Items",value:s.four_stars,gradient:"from-indigo-500/20 to-blue-500/20",delay:300}),e.jsx(f,{icon:I,label:"Total Wishes",value:s.total_wishes.toLocaleString(),gradient:"from-emerald-500/20 to-green-500/20",delay:400})]}),e.jsx("div",{className:"col-span-4",children:e.jsx(ae,{})}),e.jsx("div",{className:"col-span-4",children:e.jsxs("div",{className:`h-full rounded-xl bg-black/20 backdrop-blur-sm border border-white/10 \r
                       overflow-hidden transform hover:scale-[1.02] transition-all duration-300\r
                       hover:shadow-lg hover:shadow-purple-500/10\r
                       animate-fadeIn`,style:{animationDelay:"300ms"},children:[e.jsx("div",{className:"p-3 border-b border-white/10",children:e.jsx("h2",{className:"text-sm font-genshin",children:"Recent Wishes"})}),e.jsx("div",{className:"p-3 h-[240px] overflow-y-auto",children:e.jsx(ie,{wishes:n.wishes.history.slice(0,5)})})]})})]}),t&&e.jsx(oe,{onClose:()=>a(!1)})]})};export{xe as default};
//# sourceMappingURL=Home-BN7g_Bbm.js.map
