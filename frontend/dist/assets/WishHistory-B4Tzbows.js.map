{"version":3,"file":"WishHistory-B4Tzbows.js","sources":["../../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../src/pages/WishHistory.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.471.1 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"ChevronDown\", __iconNode);\n\nexport { __iconNode, ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","// Path: frontend/src/pages/WishHistory.jsx\r\nimport React, { useState } from 'react';\r\nimport { Calendar, Filter, Download, ChevronDown, Star } from 'lucide-react';\r\nimport { useApp } from '../context/AppContext';\r\nimport { exportWishHistory } from '../context/appActions';\r\n\r\nconst WishTypeFilter = ({ active, icon: Icon, label, count, onClick }) => (\r\n  <button\r\n    onClick={onClick}\r\n    className={`flex items-center gap-3 px-4 py-2 rounded-xl transition-all\r\n              ${active \r\n                ? 'bg-gradient-to-r from-indigo-500/20 to-purple-500/20 border-purple-500/50' \r\n                : 'bg-white/5 hover:bg-white/10 border-white/10'}\r\n              border backdrop-blur-sm`}\r\n  >\r\n    <Icon size={18} className={active ? 'text-purple-400' : 'text-white/60'} />\r\n    <span className={active ? 'text-white' : 'text-white/60'}>{label}</span>\r\n    {count > 0 && (\r\n      <span className=\"px-2 py-0.5 rounded-full bg-white/10 text-xs\">\r\n        {count}\r\n      </span>\r\n    )}\r\n  </button>\r\n);\r\n\r\nconst WishItem = ({ wish }) => {\r\n  const rarityColors = {\r\n    5: 'from-amber-500 to-yellow-500',\r\n    4: 'from-purple-500 to-violet-500',\r\n    3: 'from-blue-500 to-cyan-500'\r\n  };\r\n\r\n  return (\r\n    <div className=\"group relative rounded-xl bg-black/20 backdrop-blur-sm border border-white/10\r\n                  hover:bg-black/30 transition-all duration-300 animate-fadeIn\">\r\n      <div className=\"flex items-center gap-4 p-4\">\r\n        <div className={`relative w-16 h-16 rounded-xl overflow-hidden\r\n                      border-2 bg-gradient-to-br ${rarityColors[wish.rarity]}`}>\r\n          <img \r\n            src={wish.image} \r\n            alt={wish.name}\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n          <div className=\"absolute bottom-0 right-0 px-1.5 py-0.5 \r\n                       bg-black/60 backdrop-blur-sm rounded-tl\r\n                       flex items-center gap-0.5 text-xs\">\r\n            <Star size={10} className=\"fill-current\" />\r\n            <span>{wish.rarity}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex-1\">\r\n          <h3 className=\"text-lg font-genshin mb-1\">{wish.name}</h3>\r\n          <div className=\"flex items-center gap-4 text-sm text-white/60\">\r\n            <div className=\"flex items-center gap-1.5\">\r\n              <Calendar size={14} />\r\n              <span>{new Date(wish.time).toLocaleDateString()}</span>\r\n            </div>\r\n            <span>â€¢</span>\r\n            <span>{wish.bannerType}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"px-3 py-1 rounded-full text-xs\r\n                     bg-gradient-to-r from-indigo-500/20 to-purple-500/20 \r\n                     border border-purple-500/30\">\r\n          Pity {wish.pity || '0'}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst WishHistory = () => {\r\n  const [activeFilter, setActiveFilter] = useState('all');\r\n  const { state } = useApp();\r\n  const { history } = state.wishes;\r\n\r\n  const handleExport = async () => {\r\n    try {\r\n      const result = await exportWishHistory();\r\n      if (result.success) {\r\n        alert(`Wishes exported to: ${result.path}`);\r\n      } else {\r\n        throw new Error(result.error);\r\n      }\r\n    } catch (error) {\r\n      alert(`Failed to export wishes: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const filteredWishes = history.filter(wish => {\r\n    if (activeFilter === 'all') return true;\r\n    return wish.bannerType === activeFilter;\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-6 max-w-4xl mx-auto\">\r\n      <header>\r\n        <h1 className=\"text-2xl font-genshin bg-gradient-to-r from-indigo-300 \r\n                     via-purple-300 to-pink-300 text-transparent bg-clip-text\">\r\n          Wish History\r\n        </h1>\r\n      </header>\r\n\r\n      <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <WishTypeFilter\r\n            active={activeFilter === 'all'}\r\n            icon={Star}\r\n            label=\"All Wishes\"\r\n            count={history.length}\r\n            onClick={() => setActiveFilter('all')}\r\n          />\r\n          <WishTypeFilter\r\n            active={activeFilter === 'character'}\r\n            icon={Star}\r\n            label=\"Character Event\"\r\n            count={history.filter(w => w.bannerType === 'character').length}\r\n            onClick={() => setActiveFilter('character')}\r\n          />\r\n          <WishTypeFilter\r\n            active={activeFilter === 'weapon'}\r\n            icon={Star}\r\n            label=\"Weapon Event\"\r\n            count={history.filter(w => w.bannerType === 'weapon').length}\r\n            onClick={() => setActiveFilter('weapon')}\r\n          />\r\n        </div>\r\n\r\n        <button \r\n          onClick={handleExport}\r\n          className=\"p-2 rounded-xl bg-white/5 hover:bg-white/10 \r\n                  border border-white/10 transition-colors\"\r\n        >\r\n          <Download size={20} />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-center justify-between text-white/60 text-sm px-4\">\r\n          <span>Showing {filteredWishes.length} wishes</span>\r\n          <button className=\"flex items-center gap-1 hover:text-white transition-colors\">\r\n            <span>Sort by Date</span>\r\n            <ChevronDown size={16} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          {filteredWishes.map((wish) => (\r\n            <WishItem key={wish.id} wish={wish} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WishHistory;"],"names":["__iconNode","ChevronDown","createLucideIcon","WishTypeFilter","active","Icon","label","count","onClick","jsxs","jsx","WishItem","wish","rarityColors","Star","Calendar","WishHistory","activeFilter","setActiveFilter","useState","state","useApp","history","handleExport","result","exportWishHistory","error","filteredWishes","w","Download"],"mappings":"iMAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAa,CAAC,CAAC,OAAQ,CAAE,EAAG,eAAgB,IAAK,QAAQ,CAAE,CAAC,EAC5DC,EAAcC,EAAiB,cAAeF,CAAU,ECJxDG,EAAiB,CAAC,CAAE,OAAAC,EAAQ,KAAMC,EAAM,MAAAC,EAAO,MAAAC,EAAO,QAAAC,CAAA,IAC1DC,EAAA,KAAC,SAAA,CACC,QAAAD,EACA,UAAW;AAAA,gBACCJ,EACE,4EACA,8CAA8C;AAAA,uCAG5D,SAAA,CAAAM,MAACL,GAAK,KAAM,GAAI,UAAWD,EAAS,kBAAoB,gBAAiB,QACxE,OAAK,CAAA,UAAWA,EAAS,aAAe,gBAAkB,SAAME,EAAA,EAChEC,EAAQ,GACPG,EAAAA,IAAC,OAAK,CAAA,UAAU,+CACb,SACHH,CAAA,CAAA,CAAA,CAAA,CAEJ,EAGII,EAAW,CAAC,CAAE,KAAAC,KAAW,CAC7B,MAAMC,EAAe,CACnB,EAAG,+BACH,EAAG,gCACH,EAAG,2BACL,EAEA,aACG,MAAI,CAAA,UAAU;AAAA,gFAEb,SAACJ,EAAA,KAAA,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,OAAC,OAAI,UAAW;AAAA,mDAC2BI,EAAaD,EAAK,MAAM,CAAC,GAClE,SAAA,CAAAF,EAAA,IAAC,MAAA,CACC,IAAKE,EAAK,MACV,IAAKA,EAAK,KACV,UAAU,4BAAA,CACZ,EACAH,EAAAA,KAAC,MAAI,CAAA,UAAU;AAAA;AAAA,0DAGb,SAAA,CAAAC,EAAA,IAACI,EAAK,CAAA,KAAM,GAAI,UAAU,eAAe,EACzCJ,EAAAA,IAAC,OAAM,CAAA,SAAAE,EAAK,MAAO,CAAA,CAAA,CACrB,CAAA,CAAA,EACF,EAEAH,EAAAA,KAAC,MAAI,CAAA,UAAU,SACb,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAA,UAAU,4BAA6B,SAAAE,EAAK,KAAK,EACrDH,EAAAA,KAAC,MAAI,CAAA,UAAU,gDACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,4BACb,SAAA,CAACC,EAAAA,IAAAK,EAAA,CAAS,KAAM,EAAI,CAAA,EACpBL,MAAC,QAAM,SAAI,IAAA,KAAKE,EAAK,IAAI,EAAE,oBAAqB,CAAA,CAAA,EAClD,EACAF,EAAAA,IAAC,QAAK,SAAC,GAAA,CAAA,EACPA,EAAAA,IAAC,OAAM,CAAA,SAAAE,EAAK,UAAW,CAAA,CAAA,CACzB,CAAA,CAAA,EACF,EAEAH,EAAAA,KAAC,MAAI,CAAA,UAAU;AAAA;AAAA,kDAE2B,SAAA,CAAA,QAClCG,EAAK,MAAQ,GAAA,CACrB,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ,EAEMI,EAAc,IAAM,CACxB,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,KAAK,EAChD,CAAE,MAAAC,CAAM,EAAIC,EAAO,EACnB,CAAE,QAAAC,GAAYF,EAAM,OAEpBG,EAAe,SAAY,CAC3B,GAAA,CACI,MAAAC,EAAS,MAAMC,EAAkB,EACvC,GAAID,EAAO,QACH,MAAA,uBAAuBA,EAAO,IAAI,EAAE,MAEpC,OAAA,IAAI,MAAMA,EAAO,KAAK,QAEvBE,EAAO,CACR,MAAA,4BAA4BA,EAAM,OAAO,EAAE,CAAA,CAErD,EAEMC,EAAiBL,EAAQ,OAAeV,GACxCK,IAAiB,MAAc,GAC5BL,EAAK,aAAeK,CAC5B,EAGC,OAAAR,EAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,UACC,SAACA,EAAA,IAAA,KAAA,CAAG,UAAU;AAAA,+EACyD,wBAEvE,CACF,CAAA,EAEAD,EAAAA,KAAC,MAAI,CAAA,UAAU,oDACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAA,IAACP,EAAA,CACC,OAAQc,IAAiB,MACzB,KAAMH,EACN,MAAM,aACN,MAAOQ,EAAQ,OACf,QAAS,IAAMJ,EAAgB,KAAK,CAAA,CACtC,EACAR,EAAA,IAACP,EAAA,CACC,OAAQc,IAAiB,YACzB,KAAMH,EACN,MAAM,kBACN,MAAOQ,EAAQ,UAAYM,EAAE,aAAe,WAAW,EAAE,OACzD,QAAS,IAAMV,EAAgB,WAAW,CAAA,CAC5C,EACAR,EAAA,IAACP,EAAA,CACC,OAAQc,IAAiB,SACzB,KAAMH,EACN,MAAM,eACN,MAAOQ,EAAQ,UAAYM,EAAE,aAAe,QAAQ,EAAE,OACtD,QAAS,IAAMV,EAAgB,QAAQ,CAAA,CAAA,CACzC,EACF,EAEAR,EAAA,IAAC,SAAA,CACC,QAASa,EACT,UAAU;AAAA,4DAGV,SAAAb,EAAAA,IAACmB,EAAS,CAAA,KAAM,EAAI,CAAA,CAAA,CAAA,CACtB,EACF,EAEApB,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAA,OAAC,OAAK,CAAA,SAAA,CAAA,WAASkB,EAAe,OAAO,SAAA,EAAO,EAC5ClB,EAAAA,KAAC,SAAO,CAAA,UAAU,6DAChB,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAY,cAAA,CAAA,EAClBA,EAAAA,IAACT,EAAY,CAAA,KAAM,EAAI,CAAA,CAAA,CACzB,CAAA,CAAA,EACF,EAECS,EAAA,IAAA,MAAA,CAAI,UAAU,YACZ,WAAe,IAAKE,GACnBF,EAAAA,IAACC,EAAuB,CAAA,KAAAC,CAAA,EAATA,EAAK,EAAgB,CACrC,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}